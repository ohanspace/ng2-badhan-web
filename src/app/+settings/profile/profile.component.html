<form [ngFormModel]="form" (ngSubmit)="save()">
  <fieldset>
    <legend>Profile</legend>
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" [ngModel]="(memberPristine |async)?.name"
        #name="ngForm" ngControl="name">
      <div *ngIf="name.touched && !name.valid" class="alert alert-danger">
        Name is required
      </div>
    </div>

    <div class="form-group">
      <label>Blood Group</label>
      <select class="form-control"
          ngControl="bloodGroup" #bloodGroup="ngForm" [ngModel]="(memberPristine |async)?.bloodGroup">
        <option [selected]="true">Select Blood Group</option>
        <option [ngValue]="bloodGroup.id" *ngFor = "let bloodGroup of bloodGroups">{{bloodGroup.name}}</option>
      </select>
      <div *ngIf="bloodGroup.touched && !bloodGroup.valid" class="alert alert-danger">
        Blood Group is required
      </div>
    </div>

    <div class="form-group">
      <label for="telephone">Telephone</label>
      <input type="text" class="form-control" id="telephone" [ngModel]="(memberPristine |async)?.telephone"
        #telephone="ngForm" ngControl="telephone">
      <div *ngIf="telephone.touched && !telephone.valid" class="alert alert-danger">
        Telephone is required
      </div>
    </div>

    <div class="form-group">
      <label>Districts</label>
      <select class="form-control"
          ngControl="district" #district="ngForm" [ngModel]="(memberPristine |async)?.district">
        <option [selected]="true">Select Districts</option>
        <option [ngValue]="district.id" *ngFor = "let district of districts">{{district.name}}</option>
      </select>
      <div *ngIf="district.touched && !district.valid" class="alert alert-danger">
        Districts is required
      </div>
    </div>

    <div class="form-group">
      <label for="addressText">Address Text</label>
      <input type="text" class="form-control" id="addressText" [ngModel]="(memberPristine |async)?.addressText"
        #addressText="ngForm" ngControl="addressText">
      <div *ngIf="addressText.touched && !addressText.valid" class="alert alert-danger">
        Address Text is required
      </div>
    </div>

    <div class="form-group">
      <label>Belong to Organogram</label>
      <organogram-select (organogramSelected)="onOrganogramSelect($event)"></organogram-select>
    </div>

    <button [disabled]="!form.valid" type="submit" class="btn btn-primary"> 
      Save
    </button>
  </fieldset>
</form>
